<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>


	<!-- FORM BEANS -->
	<form-beans>
	
	<!-- System exception bean -->
    	<form-bean name="systemExceptionForm" type="org.apache.struts.validator.DynaValidatorForm">
      		<form-property name="exception" type="java.lang.Throwable"/>
    	</form-bean>

	<form-bean name="userForm" type="ui.contact.user.form.UserForm">
	</form-bean>
	
	<form-bean name="loginForm" type="ui.loginlogout.form.LoginForm">
	</form-bean>
	
	<form-bean name="updatePasswordForm" type="ui.loginlogout.form.UpdatePasswordForm">
	</form-bean>
	<form-bean name="roleForm" type="ui.security.authorization.role.form.RoleForm">
	</form-bean>
	<form-bean name="roleGroupForm" type="ui.security.authorization.role.form.RoleGroupForm">
	</form-bean>
	
	</form-beans>
	<!-- END FORM BEANS -->
<!-- ========== Exception Definitions ========================= -->
  	<global-exceptions>
    	<exception 
      		key="exception.title" 
      		type="java.lang.Exception" 
      		handler="mojo.struts.StrutsExceptionHandler" />
  	</global-exceptions>

	<!-- Global Forwards -->
	<global-forwards>
		<!-- forward   name="displayUpdatePasswordFormAction"	path="/displayUpdatePasswordFormAction.do"/ -->
		<!-- forward   name="displayLogoutFormAction"		path="/displayLogoutFormAction.do"/ -->
		<forward name="failure" 	path="/jsp/error.jsp"></forward>
	</global-forwards>

	<!-- **ACTION MAPPINGS** -->
	<action-mappings>
	
	<!-- ========== MANAGE USER PROFILE=================================== -->
		<!--NEW CODE-->
		<!-- Menu Item - Create User Profile -->
		<action name="userForm" path="/displayCreateUserProfileForm" scope="session" type="ui.contact.user.action.DisplayCreateUserProfileFormAction">
			<forward name="success" path="/jsp/userProfileCreate.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp"> 
        	</forward>
		</action>
		
		<!-- Submit Create User Profile Form JSP -->                                           
        <action name="userForm" path="/submitCreateUserProfileForm" scope="session" type="ui.contact.user.action.SubmitCreateUserProfileFormAction" input="/jsp/userProfileCreate.jsp">
            <forward name="success" path="/jsp/userProfileCreateSummary.jsp">
            </forward>
            <forward name="duplicates" path="/jsp/userProfileDisplayMatchingUsers.jsp">
            </forward> 
            <forward name="failure" path="/jsp/error.jsp">
            </forward>
        </action>
        <action name="userForm" path="/submitCreateUserSummary" scope="session" type="ui.contact.user.action.SubmitCreateUserProfileConfirmationAction" input="/jsp/userProfileCreateSummary.jsp">
            <forward name="success" path="/jsp/userProfileDetails.jsp">
            </forward>
            <forward name="failure" path="/jsp/error.jsp">
            </forward>
        </action>
        <action name="userForm" path="/submitMatchingUserList" scope="session" type="ui.contact.user.action.SubmitUserProfileListFormAction" input="/jsp/userProfileCreate.jsp">
            <forward name="success" path="/jsp/userProfileCreateSummary.jsp">
            </forward>
            <forward name="failure" path="/jsp/error.jsp">
            </forward>
        </action>
        		
		<!-- Menu Item - View/Modify User Profile -->
		<action name="userForm" path="/displayUserSearchForm" scope="session" type="ui.contact.user.action.DisplayUserSearchFormAction">
			<forward name="success" path="/jsp/userProfileSearch.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
            </forward> 
		</action>
		<action name="userForm" path="/submitUserSearchForm" scope="session" type="ui.contact.user.action.SubmitUserSearchFormAction" input="/jsp/userProfileSearch.jsp">
			<forward name="success" path="/jsp/userProfileSummary.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- View User Profile Details JSP -->				
		<action name="userForm" path="/submitGetUserProfileDetail" scope="session" type="ui.contact.user.action.SubmitGetUserProfileDetailAction">
			<forward name="success" path="/jsp/userProfileDetails.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- View User Profile History JSP -->				
		<action name="userForm" path="/displayUserProfileHistory" scope="session" type="ui.contact.user.action.DisplayUserProfileHistoryAction">
			<forward name="success" path="/jsp/userProfileHistory.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- Display User Profile Update JSP -->				
		<action name="userForm" path="/displayUpdateUserProfileForm" scope="session" type="ui.contact.user.action.DisplayUpdateUserProfileFormAction">
			<forward name="success" path="/jsp/userProfileUpdate.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- Submit User Profile Update JSP -->				
		<action name="userForm" path="/submitUpdateUserProfileForm" scope="session" type="ui.contact.user.action.SubmitUpdateUserProfileFormAction" input="/jsp/userProfileUpdate.jsp">
			<forward name="success" path="/jsp/userProfileSummary.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- Display User Profile Transfer Agency JSP -->				
		<action name="userForm" path="/displayTransferUserAgencyForm" scope="session" type="ui.contact.user.action.DisplayTransferUserAgencyFormAction">
			<forward name="success" path="/jsp/userProfileTransfer.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
				
		<!-- Submit User Profile Transfer Agency JSP -->				
		<action name="userForm" path="/submitTransferUserAgencyForm" scope="session" type="ui.contact.user.action.SubmitTransferUserAgencyFormAction" input="/jsp/userProfileTransfer.jsp">
			<forward name="success" path="/jsp/userProfileSummary.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		
		<!-- Display Maintain User Roles Form JSP -->				
		<action name="userForm" path="/displayMaintainUserRoleForm" scope="session" type="ui.security.authorization.user.action.DisplayMaintainUserRoleFormAction">
			<forward name="success" path="/jsp/userProfileRolesUpdate.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
						
		<!-- Submit Maintain User Roles Form JSP -->				
		<action name="userForm" path="/submitUserRoleUpdate" scope="session" type="ui.security.authorization.user.action.SubmitRoleAssociationConfirmationFormAction" input="/jsp/userProfileRolesUpdate.jsp">
			<forward name="success" path="/jsp/userProfileSummary.jsp">
			</forward>
			<forward name="failure" path="/jsp/error.jsp">
			</forward>
		</action>
		<!-- Display User Profile Delete JSP -->                    
		<action name="userForm" path="/displayDeleteUserProfileForm" scope="request" type="ui.contact.user.action.DisplayDeleteUserProfileFormAction">
            <forward name="success" path="/jsp/userProfileDelete.jsp">
            </forward>
            <forward name="failure" path="/jsp/error.jsp">
            </forward>
		</action>
           
		<!-- Submit User Profile Delete JSP -->                     
		<action name="userForm" path="/submitDeleteUserProfileForm" scope="request" type="ui.contact.user.action.SubmitDeleteUserProfileFormAction" input="/jsp/userProfileDelete.jsp">
            <forward name="success" path="/jsp/userProfileDelete.jsp">
             </forward>
            <forward name="failure" path="/jsp/error.jsp">
            </forward>
		</action>
		
		<!--Submit User Selections on userProfileSummary JSP for multiple buttons-->
		<action path="/submitUserSelection" type="ui.contact.user.action.SubmitUserSelectionAction" name="userForm" scope="session" parameter="submitAction">
        	<forward name="modifySuccess" path="/jsp/userProfileUpdate.jsp">
        	</forward>
        	<forward name="deleteSuccess" path="/jsp/userProfileDelete.jsp">
        	</forward>
        	<forward name="maintainRolesSuccess" path="/jsp/userProfileRolesUpdate.jsp">
        	</forward>
        	<forward name="transferAgencySuccess" path="/jsp/userProfileTransfer.jsp">
        	</forward>
        </action>
        	<!-- forward name="search" path="/jsp/userProfileSearch.jsp">
        	</forward -->        
<!-- ========== LOGIN-LOGOUT USE CASE =================================== -->			
<!-- ========== LOGIN SUBMIT ================================== -->
	    <action path="/submitLoginUser" type="ui.loginlogout.action.SubmitLoginUserAction" name="loginForm" scope="request" validate="true" input="/jsp/refApp_splash.jsp">
    	  <forward name="success" path="/jsp/refApp_menu.jsp" />
      	  <forward name="failure" path="/jsp/refApp_splash.jsp"/>
          <forward name="updatePassword" path="/jsp/refApp_passwordUpdate.jsp" redirect="false">
          </forward>
        </action>
    
<!-- ========== UPDATE PASSWORD SUBMIT ======================== -->    
        <action path="/submitUpdatePassword" type="ui.loginlogout.action.SubmitUpdatePasswordAction" name="updatePasswordForm" scope="request" validate="true" input="/jsp/refApp_passwordUpdate.jsp">
          <forward name="success" path="/jsp/refApp_menu.jsp" />
          <forward name="failure" path="/jsp/refApp_passwordUpdate.jsp">
          </forward>
        </action>
    
<!-- ========== LOGOUT SUBMIT ================================= -->    
        <action path="/submitLogoutUser" type="ui.loginlogout.action.SubmitLogoutUserAction">
          <forward name="success" path="/jsp/refApp_splash.jsp" />
          <forward name="failure" path="/jsp/refApp_menu.jsp" />
        </action>
        
<!-- ========== MANAGE ROLE =================================== -->        
        <action path="/displayViewRoleSearchForm" name="roleForm" scope="session" type="ui.security.authorization.role.action.DisplayViewRoleSearchFormAction">
        	<forward name="success" path="/jsp/roleView.jsp">
        	</forward>
        </action>
        <action path="/submitRoleSearchQuery" type="ui.security.authorization.role.action.SubmitRoleSearchQueryAction" name="roleForm" scope="session" parameter="submitAction">
        	<forward name="success" path="/jsp/roleViewResults.jsp"></forward>
        	<forward name="cancel" path="/jsp/mainMenu.jsp"></forward>
        </action>
        <action path="/submitRoleSelection" type="ui.security.authorization.role.action.SubmitRoleSelectionAction" name="roleForm" scope="session" parameter="submitAction">
        	<forward name="success" path="/jsp/roleViewAssociatedSystemActivityList.jsp">
        	</forward>
        	<forward name="modifySuccess" path="/jsp/roleUpdate.jsp">
        	</forward>
        	<forward name="deleteSuccess" path="/jsp/roleUpdateSummary.jsp">
        	</forward>
        	<forward name="viewAcitivitiesSuccess" path="/jsp/roleSystemActivityUpdateSearch.jsp">
        	</forward>
        	<forward name="cancel" path="/jsp/mainMenu.jsp"></forward>
        	<forward name="disassociateSystemActivitesSuccess" path="/jsp/roleSystemActivityUpdateSearchResults.jsp">
        	</forward>
        </action>
        <action path="/submitDisplayAssociatedUsers" type="ui.security.authorization.role.action.SubmitDisplayAssociatedUsersAction" name="roleForm">
        	<forward name="success" path="/jsp/roleAssociatedUsersList.jsp">
        	</forward>
        </action>
        <action path="/submitMaintainRoleGroup" type="ui.security.authorization.role.action.SubmitModifyRoleGroupAction">
        </action>
        <action path="/displayRoleGroups" type="ui.security.authorization.role.action.SubmitManageRoleGroupOptionAction" name="roleGroupForm" scope="session">
        	<forward name="success" path="/jsp/roleGroupDisplayList.jsp">
        	</forward>
        </action>
        <action path="/submitUpdateRoleGroup" type="ui.security.authorization.role.action.SubmitRoleGroupsToModifyAction" name="roleGroupForm" scope="session" parameter="submitAction">
        	<forward name="deleteSuccess" path="/jsp/roleGroupUpdateSummary.jsp"></forward>
        	<forward name="cancel" path="/jsp/mainMenu.jsp"></forward>
        	<forward name="updateSuccess" path="/jsp/roleGroupUpdate.jsp">
        	</forward>
        </action>
        <action path="/submitUpdateRoleGroupConfirmation" name="roleGroupForm" type="ui.security.authorization.role.action.SubmitRoleGroupUpdateConfirmationAction" scope="session" parameter="submitAction">
        	<forward name="backSuccess" path="/jsp/roleGroupUpdate.jsp">
        	</forward>
        	<forward name="cancelSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        	<forward name="finishSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        </action>
        <action path="/displayRoleUpdateForm" type="ui.security.authorization.role.action.DisplayRoleUpdateFormAction" name="roleForm" scope="session">
        	<forward name="success" path="/toModule.do?prefix=&amp;page=/jsp/roleUpdate.jsp">
        	</forward>
        </action>
        <action path="/displayRoleUpdateConfirmation" type="ui.security.authorization.role.action.DisplayRoleUpdateConfirmationAction" name="roleForm" scope="session">
        	<forward name="success" path="/jsp/roleUpdateSummary.jsp">
        	</forward>
        </action>
        <action path="/submitRoleUpdateConfirmation" type="ui.security.authorization.role.action.SubmitRoleUpdateConfirmationAction" name="roleForm" scope="session">
        	<forward name="confirmCreateSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        	<forward name="confirmUpdateSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        	<forward name="confirmDeleteSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        	<forward name="confirmAssociateSystemActivitiesSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        	<forward name="confirmDisassociateSystemActivitiesSuccess" path="/jsp/mainMenu.jsp">
        	</forward>
        </action>
        <action path="/displayAssociatedUsers" type="ui.security.authorization.role.action.DisplayAssociatedUsersAction" name="roleForm" scope="session">
        	<forward name="success" path="/jsp/roleAssociatedUserList.jsp">
        	</forward>
        </action>
        <action path="/displayMaintainSystemActivities" type="ui.security.authorization.role.action.DisplayAssociatedSystemActivitiesAction" name="roleForm" scope="session">
        	<forward name="associateActivitiesSuccess" path="/jsp/roleSystemActivityUpdateSearchResults.jsp">
        	</forward>
        </action>
        <action path="/displaySearchActivitiesForm" name="roleForm" scope="session" type="ui.security.authorization.role.action.DisplaySearchActivitiesFormAction">
        	<forward name="success" path="/jsp/roleSystemActivityUpdateSearch.jsp">
        	</forward>
        </action>
        <action path="/submitCreateRoleGroup" type="ui.security.authorization.role.action.SubmitCreateRoleGroupAction" name="roleGroupForm" scope="session">
        	<forward name="updateSuccess" path="/jsp/roleGroupUpdate.jsp">
        	</forward>
        </action>
        <action path="/displayRoleGroupUpdateConfirmation" type="ui.security.authorization.role.action.DisplayRoleGroupDetailAction" name="roleGroupForm" scope="session" parameter="submitAction">
        	<forward name="success" path="/jsp/roleGroupUpdateSummary.jsp">
        	</forward>
        	<forward name="cancel" path="/jsp/mainMenu.jsp">
        	</forward>
        </action>    
    	<action path="/toModule" type="org.apache.struts.actions.SwitchAction">
    	</action>

	</action-mappings>
	
<!-- controller processorClass="jims2.refapp.utility.ui.RequestProcessor" / -->
	
<!-- ========== Message Resources ============================= -->
	<message-resources parameter="struts.resources.ApplicationResources"></message-resources>

<!-- ========== Plug Ins Configuration ======================== -->
  <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    <set-property
        property="pathnames"
        value="/WEB-INF/validator-rules.xml,
               /WEB-INF/validation.xml"/>
  </plug-in>

</struts-config>
