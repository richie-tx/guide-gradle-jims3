<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>


	<!-- Form Beans -->
	<form-beans>
	
		<!-- System exception beanbean -->
    	<form-bean      name="systemExceptionForm" 	type="org.apache.struts.validator.DynaValidatorForm">
      		<form-property name="exception" type="java.lang.Throwable"/>
    	</form-bean>

		<form-bean name="userForm" type="jims2.refapp.ui.forms.UserForm">
		</form-bean>
		<form-bean name="personInquiryForm" type="jims2.refapp.ui.forms.PersonInquiryForm">
		</form-bean>
		<form-bean name="caseInquiryForm" type="jims2.refapp.ui.forms.CaseInquiryForm">
		</form-bean>
		<form-bean name="loginForm" type="jims2.refapp.ui.forms.LoginForm">
		</form-bean>
		<form-bean name="updatePasswordForm" type="jims2.refapp.ui.forms.UpdatePasswordForm">
		</form-bean>
	</form-beans>

	<!-- ========== Exception Definitions =================================== -->
  	<global-exceptions>
    	<exception 
      		key="exception.title" 
      		type="java.lang.Exception" 
      		handler="jims2.refapp.ui.utility.StrutsExceptionHandler" />
  	</global-exceptions>

	<!-- Global Forwards -->
	<global-forwards>
		<!-- forward   name="displayUpdatePasswordFormAction"	path="/displayUpdatePasswordFormAction.do"/ -->
		<!-- forward   name="displayLogoutFormAction"			path="/displayLogoutFormAction.do"/ -->
	</global-forwards>

	<!-- Action Mappings -->
	<action-mappings>
<!-- ========== MANAGE USER =================================== -->				
		<action name="userForm" path="/GetUser" scope="request" type="jims2.refapp.ui.actions.SubmitUserInquiryAction" input="/jsp/refApp_searchUserProfile.jsp">
			<forward name="failure" path="/jsp/refApp_error.jsp">
			</forward>
			<forward name="information" path="/jsp/refApp_userProfileSummary.jsp">
			</forward>
			<forward name="createUser" path="/jsp/refApp_createUserProfile.jsp">
			</forward>
			<forward name="construction" path="/jsp/refApp_construction.jsp">
			</forward>
		</action>
		<action name="userForm" path="/SelectUser" scope="request" type="jims2.refapp.ui.actions.SubmitUserListAction" input="/jsp/refApp_userProfileSummary.jsp">
			<forward name="failure" path="/jsp/refApp_error.jsp">
			</forward>
			<forward name="inquiry" path="/jsp/refApp_searchUserProfile.jsp">
			</forward>
			<forward name="deleteUser" path="/jsp/refApp_deleteUserProfile.jsp">
			</forward>
			<forward name="updateUser" path="/jsp/refApp_updateUserProfile.jsp">
			</forward>
		</action>
		<action name="userForm" path="/CreateUser" scope="request" type="jims2.refapp.ui.actions.SubmitCreateUserAction" input="/jsp/refApp_createUserProfile.jsp">
			<forward name="inquiry" path="/jsp/refApp_searchUserProfile.jsp">
			</forward>
			<forward name="failure" path="/jsp/refApp_error.jsp">
			</forward>
			<forward name="information" path="/jsp/refApp_userProfileSummary.jsp">
			</forward>
		</action>
		<action name="userForm" path="/UpdateUser" scope="request" type="jims2.refapp.ui.actions.SubmitUpdateUserAction" input="/jsp/refApp_updateUserProfile.jsp">
			<forward name="failure" path="/jsp/refApp_error.jsp">
			</forward>
			<forward name="inquiry" path="/jsp/refApp_searchUserProfile.jsp">
			</forward>
			<forward name="information" path="/jsp/refApp_userProfileSummary.jsp">
			</forward>
		</action>
		<action name="userForm" path="/DeleteUser" scope="request" type="jims2.refapp.ui.actions.SubmitDeleteUserAction" input="/jsp/refApp_deleteUserProfile.jsp">
			<forward name="failure" path="/jsp/refApp_error.jsp">
			</forward>
			<forward name="deleteUser" path="/jsp/refApp_deleteUserProfile.jsp">
			</forward>
			<forward name="inquiry" path="/jsp/refApp_searchUserProfile.jsp">
			</forward>
		</action>
		
	<!-- ========== DISPLAY PERSON INFORMATION =================================== -->				
		<action path="/displayPersonDemoAndAddressInquiry" forward="/jsp/refApp_searchPerson.jsp">
		</action>
		<action path="/submitPersonDemoAndAddressInquiry" name="personInquiryForm" type="jims2.refapp.ui.actions.SubmitPersonDemoAndAddressInquiryAction" scope="request">
			<forward name="failure" path="displayPersonDemoAndAddressInquiry.do">
			</forward>
			<forward name="demographic" path="/jsp/refApp_searchPersonDemographicResults.jsp">
			</forward>
			<forward name="address" path="/jsp/refApp_searchPersonAddressResults.jsp">
			</forward>
		</action>
		
<!-- ========== DISPLAY CASE & PARTY INFORMATION =================================== -->				
		<action path="/displayCaseInquiryForm" forward="/jsp/refApp_searchCase.jsp">
		</action>
		<action path="/submitCaseAndRelatedParties" type="jims2.refapp.ui.actions.SubmitGetCaseAndRelatedPartiesAction" name="caseInquiryForm" scope="request">
			<forward name="success" path="/jsp/refApp_searchCaseResults.jsp">
			</forward>
		</action>
		
		<!-- Login Submit -->
	    <action path="/submitLoginUserAction" type="jims2.refapp.ui.actions.SubmitLoginUserAction" name="loginForm" scope="request" validate="true" input="/jsp/refApp_splash.jsp">
    	  <forward name="success" path="/jsp/refApp_menu.jsp" />
      	  <forward name="failure" path="/jsp/refApp_splash.jsp"/>
          <forward name="updatePassword" path="/jsp/refApp_updatePassword.jsp" redirect="false">
          </forward>
        </action>
    
        <!-- Update Password Submit -->    
        <action path="/submitUpdatePasswordAction" type="jims2.refapp.ui.actions.SubmitUpdatePasswordAction" name="updatePasswordForm" scope="request" validate="true" input="/jsp/refApp_updatePassword.jsp">
          <forward name="success" path="/jsp/refApp_menu.jsp" />
          <forward name="failure" path="/jsp/refApp_updatePassword.jsp">
          </forward>
        </action>
    
        <!-- Logout Submit -->    
        <action path="/submitLogoutUserAction" type="jims2.refapp.ui.actions.SubmitLogoutUserAction">
          <forward name="success" path="/jsp/refApp_splash.jsp" />
          <forward name="failure" path="/jsp/refApp_menu.jsp" />
        </action>    

	</action-mappings>
	
	<controller processorClass="jims2.refapp.ui.utility.RequestProcessor" />
	
	<!-- Message Resources -->
	<message-resources parameter="jims2.refapp.struts.resources.ApplicationResources"/>

	<!-- ========== Plug Ins Configuration ================================== -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    <set-property property="pathnames"
                     value="/WEB-INF/validator-rules.xml, /WEB-INF/validation.xml"/>
    </plug-in>

	<plug-in className="org.apache.struts.tiles.TilesPlugIn">
    <set-property property="definitions-config"
                     value="/WEB-INF/tiles-defs.xml"/>
    </plug-in>

</struts-config>
